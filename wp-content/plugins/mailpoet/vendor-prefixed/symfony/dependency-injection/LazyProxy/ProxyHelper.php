<?php
 namespace MailPoetVendor\Symfony\Component\DependencyInjection\LazyProxy; if (!defined('ABSPATH')) exit; class ProxyHelper { public static function getTypeHint(\ReflectionFunctionAbstract $r, \ReflectionParameter $p = null, bool $noBuiltin = \false) : ?string { if ($p instanceof \ReflectionParameter) { $type = $p->getType(); } else { $type = $r->getReturnType(); } if (!$type) { return null; } $types = []; $glue = '|'; if ($type instanceof \ReflectionUnionType) { $reflectionTypes = $type->getTypes(); } elseif ($type instanceof \MailPoetVendor\ReflectionIntersectionType) { $reflectionTypes = $type->getTypes(); $glue = '&'; } elseif ($type instanceof \ReflectionNamedType) { $reflectionTypes = [$type]; } else { return null; } foreach ($reflectionTypes as $type) { if ($type->isBuiltin()) { if (!$noBuiltin) { $types[] = $type->getName(); } continue; } $lcName = \strtolower($type->getName()); $prefix = $noBuiltin ? '' : '\\'; if ('self' !== $lcName && 'parent' !== $lcName) { $types[] = $prefix . $type->getName(); continue; } if (!$r instanceof \ReflectionMethod) { continue; } if ('self' === $lcName) { $types[] = $prefix . $r->getDeclaringClass()->name; } else { $types[] = ($parent = $r->getDeclaringClass()->getParentClass()) ? $prefix . $parent->name : null; } } return $types ? \implode($glue, $types) : null; } } 